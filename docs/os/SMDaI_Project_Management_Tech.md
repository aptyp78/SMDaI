# Технология управления проектом SMDaI (Project Operating System)

**Версия:** 0.1 • **Дата:** 2025-10-04 12:53 UTC

Этот документ фиксирует «технологию управления проектом» для разработки технологии раскодирования смысла.
Он описывает: процессы, роли (в т.ч. ИИ‑исполнителей), артефакты, метрики и ритмы работы. Тон документа — практический: чтобы
по нему можно было немедленно работать в репозитории `SMDaI` на одном ноутбуке и с ChatGPT Pro.

---

## 1. Управленческая рамка (что используем)
- **Канбан с WIP‑лимитами** на GitHub Projects (`Backlog → Doing → Review → Done`). WIP на колонку: 2.
- **Еженедельные mini‑OKR** (Objectives & Key Results) как цели спринта. Один Objective, 2–4 измеримых KR.
- **Stage‑gate контроль:** Gate0 (каркас и CI) → Gate1 (минимальный конвейер корпуса) → Gate2 (граф+эмбеддинги) → Gate3 (QA‑ответ с цитатами).
- **Definition of Ready (DoR):** сформулированная проблема, критерии приёмки, данные/снапшот, план эксперимента.
- **Definition of Done (DoD):** тесты зелёные, метрики зафиксированы, артефакты и provenance сохранены, README/пример запуска обновлён.
- **ADR (Architecture Decision Records):** решения — через `docs/adr/NNN-title.md` с мотивацией и альтернативами.
- **Контракт смысла:** единый формат узлов/связей/доказательств/уверенности для любых компонент графа.

## 2. Роли и RACI (кто использует)
**Человек‑архитектор** — владелец продукта и качества. Остальные роли реализуются ИИ‑исполнителями (агентами).
Таблица RACI: Responsible (исполняет), Accountable (принимает), Consulted (консультирует), Informed (уведомляется).

| Процесс/Задача                         | Архитектор | Оркестратор | Куратор корпуса | Лингв. аналитик | Эмбеддер | Охотник имплицитного | Гипертекст‑мэппер | Смысловой картограф | Агент‑методолог | Оценщик качества | Визуализатор |
|---|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| Формулировка weekly‑OKR               | **A** | C | I | I | I | I | I | I | C | C | I |
| План/оркестрация пайплайна            | A | **R** | C | C | C | C | C | C | C | C | I |
| Снапшот/нормализация корпуса          | I | C | **R** | C | I | I | I | I | I | C | I |
| Лингворазметка/термины                | I | C | C | **R** | C | C | I | I | I | C | I |
| Эмбеддинги/поиск                      | I | C | I | C | **R** | I | I | I | C | C | I |
| Имплицитные связи (гипотезы)          | I | C | I | C | C | **R** | C | I | C | C | I |
| Гипертекстовые связи                  | I | C | I | I | I | C | **R** | I | C | C | I |
| Сборка графа и схемы                  | I | C | I | I | I | C | C | **R** | C | C | I |
| Диалог/QA и планы расширения          | A | I | I | I | C | C | C | C | **R** | C | I |
| Оценка/регресс/калибровка             | A | I | I | I | I | C | I | C | C | **R** | I |
| Релиз/версионирование артефактов      | **A** | R | C | I | I | I | I | R | I | C | I |
| Визуализация/отчёты                   | I | I | I | I | I | I | I | I | C | C | **R** |

## 3. Сквозной жизненный цикл задачи (как используем)
1) **Идея → Issue** (шаблон ниже). Назначаются тип (`feature|chore|bug|exp`), область (`corpus|ling|embed|graph|qa|eval`), KR‑связь.  
2) **Планировка**: Оркестратор делает чек‑лист шагов (DAG) и критерии выхода. Архитектор валидирует DoR.  
3) **Реализация**: работа в ветке `feat/<slug>`; коммиты с короткими описаниями; артефакты пишутся в `/artifacts/<step>/<date>/`.  
4) **PR → Review**: авто‑проверки (линтеры, тесты, mini‑pipeline), ревизия Оценщиком качества, актуализация ADR при изменениях.  
5) **Слияние → Release**: версионный тег (semver + дата), обновление CHANGELOG, публикация отчёта метрик.  
6) **Retro**: краткое резюме: что улучшить в данных/моделях/контракте смысла.

## 4. Доска и политики
- **Колонки:** Backlog / Ready / Doing / Review / Done. Перетаскивание только после выполнения чек‑листов.
- **Политики входа в Doing:** DoR выполнен, нет блокеров, есть план измерения результата.
- **Политики выхода из Review:** пройдены авто‑тесты и ручная проверка Оценщика, обновлены доки и метрики.
- **Приоритезация:** по KR‑связи и ожидаемому приросту метрик качества графа/QA.
- **Оценка задач:** размер футболки (XS–XL) → ориентир для WIP и разбивки на под‑issues.

## 5. Метрики и отчётность
**Качество знаний:** precision/recall/F1 по извлечению понятий; подтверждаемость имплицитных связей; доля рёбер с evidence; калибровка (Brier).  
**Граф:** связность, диаметр, устойчивость весов, плотность доказательств.  
**QA:** точность ответов на эталонах, nDCG/MRR поиска контекста.  
**Процессы:** lead time, cycle time, WIP, % успешных прогонов пайплайна, частота регрессий.  
**Отчёт недели:** дашборд `metrics.json` + краткая записка `W{{NN}}-report.md`.

## 6. Артефакты и структура репозитория
```
/data/                   # сырой корпус (read‑only снапшоты)
/corpus/                 # нормализованный корпус + метаданные (JSONL)
/ling/                   # лингв. разметка и термины
/embed/                  # эмбеддинги и индексы (ANN)
/graph/                  # схемы БД, миграции, экспорты подграфов
/qa/                     # запросы/ответы и эталоны
/eval/                   # тесты, регресс‑сеты, отчёты
/docs/adr/               # Architecture Decision Records
/artifacts/<step>/<date> # версионные выходы + PROVENANCE.json
.github/workflows/ci.yml
```
**PROVENANCE.json** (минимум): `pipeline`, `model@version`, `params`, `timestamp`, `inputs`, `outputs`.

## 7. Ритмы (cadence)
- **Понедельник:** постановка weekly‑OKR, чистка Backlog, выбор 1–2 приоритетов.
- **Каждый день:** короткий авто‑лог в комментарии Issue: что сделано / планы / риски.
- **Пятница:** отчёт метрик и мини‑ретро; обновление доски, закрытие Gate’ов.
- **Каждый релиз:** freeze данных/моделей, экспорт дашбордов, пометка тега.

## 8. Шаблоны

### 8.1 Issue: `ISSUE_TEMPLATE/feature.md`
```md
## Зачем
Проблема/гипотеза:

## Результат
Критерии приёмки (измеримые):

## Данные
Снапшот/источники:

## План/чек‑лист
- [ ] Шаг 1
- [ ] Шаг 2

## Метрики
Ожидаемые изменения метрик:

## Связи
KR: #<id>, Область: <corpus|ling|embed|graph|qa|eval>
```

### 8.2 PR‑чеклист
- [ ] Тесты и linters зелёные
- [ ] Обновлён README/пример запуска
- [ ] Артефакты в `/artifacts/...` + `PROVENANCE.json`
- [ ] Обновлён ADR (если было решение)
- [ ] Метрики зафиксированы (`eval/metrics.json`)

### 8.3 ADR: `docs/adr/NNN-title.md`
```md
# ADR NNN: <Решение>
Дата: <YYYY-MM-DD>
## Контекст
## Решение
## Альтернативы
## Последствия
```

## 9. Потоки по типовым работам

**A. Добавление источников в корпус**
1) Issue (тип `feature`, область `corpus`) → чек‑лист лицензии/метаданных → снапшот в `/data/snapshots/`.  
2) Куратор запускает нормализацию → валидатор метаданных → отчёт качества.  
3) Оценщик прогоняет регресс‑наборы: не ухудшены метрики NER/поиска.

**B. Извлечение терминов и NER**
1) Issue (`ling`) → Лингвистический аналитик тренирует/подбирает модель.  
2) Эмбеддер валидирует поиск близких контекстов (nDCG/MRR).  
3) Оценщик калибрует confidence, публикует `eval/metrics.json`.

**C. Построение рёбер графа**
1) Охотник имплицитного генерирует гипотезы с `evidence`.  
2) Гипертекст‑мэппер стыкует межтекстовые связи.  
3) Смысловой картограф пишет в БД графа; Оценщик проверяет долю рёбер с evidence и стабильность весов.

## 10. Инструменты (минимум)
- **GitHub Projects/Issues/Actions** — доска, шаблоны, CI, автопайплайны.
- **VS Code** — задачи `Run mini‑pipeline`, `Run tests`.
- **ChatGPT Pro** — генерация черновиков ADR/Issue/тестов; код‑ревью по чеклисту.
- **Makefile** — `make init | test | pipeline-mini | eval`.
- **Форматы данных:** JSON/JSONL для корпусов/метрик; экспорт подграфов в GraphML/JSON.

## 11. Границы и принципы
- Любая связь в графе — с цитируемым evidence и уровнем уверенности.
- Вся деятельность воспроизводима: фиксируем семена, версии, параметры.
- Гипотеза ≠ факт: различаем метками и калибруем вероятности.
- Приватность и лицензии источников соблюдаются.

---

*Эта технология совместима с концепцией команды ИИ‑исполнителей и «контрактом смысла». Документ можно расширять в `docs/os/` и версионировать вместе с репозиторием.*
